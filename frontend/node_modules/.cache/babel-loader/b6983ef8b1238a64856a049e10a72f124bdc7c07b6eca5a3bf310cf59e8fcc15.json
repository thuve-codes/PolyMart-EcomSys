{"ast":null,"code":"import React,{Fragment,useEffect,useState}from'react';import ProductCard from'../components/ProductCard';import{useSearchParams}from'react-router-dom';import{FaSearch}from'react-icons/fa';// Importing the search icon\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=\"http://localhost:5001\";export default function Home(){const[products,setProducts]=useState([]);const[searchParams,setSearchParams]=useSearchParams();// Get the search query from the URL (if any)\nconst keyword=searchParams.get(\"keyword\")||'';useEffect(()=>{// Trigger search when searchParams change (i.e., when the keyword changes)\nfetch(`${API_URL}/api/v1/products?keyword=${keyword}`).then(response=>response.json()).then(response=>setProducts(response.products));},[keyword]);// Effect runs when the keyword changes\nconst handleSearchChange=e=>{const newKeyword=e.target.value.trim();// Update searchParams with the new keyword\nsetSearchParams({keyword:newKeyword});};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search-input\",placeholder:\"Search for products...\",value:keyword// Bind value to searchParams\n,onChange:handleSearchChange// Update searchParams on input change\n}),/*#__PURE__*/_jsx(\"button\",{className:\"search-btn\",children:/*#__PURE__*/_jsx(FaSearch,{})})]}),/*#__PURE__*/_jsx(\"h1\",{id:\"products_heading\",children:\"Latest Products\"}),/*#__PURE__*/_jsx(\"section\",{id:\"products\",className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product.id))})})]});}","map":{"version":3,"names":["React","Fragment","useEffect","useState","ProductCard","useSearchParams","FaSearch","jsx","_jsx","jsxs","_jsxs","API_URL","Home","products","setProducts","searchParams","setSearchParams","keyword","get","fetch","then","response","json","handleSearchChange","e","newKeyword","target","value","trim","children","className","type","placeholder","onChange","id","map","product"],"sources":["C:/Users/thuve/Desktop/myCodes/Docker/PolyMart-EcomSys/frontend/src/pages/Home.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\r\nimport ProductCard from '../components/ProductCard';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport { FaSearch } from 'react-icons/fa';  // Importing the search icon\r\n\r\nconst API_URL = \"http://localhost:5001\";\r\n\r\nexport default function Home() {\r\n  const [products, setProducts] = useState([]);\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n\r\n  // Get the search query from the URL (if any)\r\n  const keyword = searchParams.get(\"keyword\") || '';\r\n\r\n  useEffect(() => {\r\n    // Trigger search when searchParams change (i.e., when the keyword changes)\r\n    fetch(`${API_URL}/api/v1/products?keyword=${keyword}`)\r\n      .then(response => response.json())\r\n      .then(response => setProducts(response.products));\r\n  }, [keyword]);  // Effect runs when the keyword changes\r\n\r\n  const handleSearchChange = (e) => {\r\n    const newKeyword = e.target.value.trim();\r\n    // Update searchParams with the new keyword\r\n    setSearchParams({ keyword: newKeyword });\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* Redesigned Search Bar */}\r\n      <div className=\"search-container\">\r\n        <input \r\n          type=\"text\"\r\n          className=\"search-input\"\r\n          placeholder=\"Search for products...\"\r\n          value={keyword}  // Bind value to searchParams\r\n          onChange={handleSearchChange}  // Update searchParams on input change\r\n        />\r\n        <button className=\"search-btn\">\r\n          <FaSearch />\r\n        </button>\r\n      </div>\r\n\r\n      <h1 id=\"products_heading\">Latest Products</h1>\r\n\r\n      <section id=\"products\" className=\"container mt-5\">\r\n        <div className=\"row\">\r\n          {products.map(product => <ProductCard key={product.id} product={product} />)}\r\n        </div>\r\n      </section>\r\n    </Fragment>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC5D,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,OAASC,eAAe,KAAQ,kBAAkB,CAClD,OAASC,QAAQ,KAAQ,gBAAgB,CAAG;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,OAAO,CAAG,uBAAuB,CAEvC,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,YAAY,CAAEC,eAAe,CAAC,CAAGX,eAAe,CAAC,CAAC,CAEzD;AACA,KAAM,CAAAY,OAAO,CAAGF,YAAY,CAACG,GAAG,CAAC,SAAS,CAAC,EAAI,EAAE,CAEjDhB,SAAS,CAAC,IAAM,CACd;AACAiB,KAAK,CAAC,GAAGR,OAAO,4BAA4BM,OAAO,EAAE,CAAC,CACnDG,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACC,QAAQ,EAAIP,WAAW,CAACO,QAAQ,CAACR,QAAQ,CAAC,CAAC,CACrD,CAAC,CAAE,CAACI,OAAO,CAAC,CAAC,CAAG;AAEhB,KAAM,CAAAM,kBAAkB,CAAIC,CAAC,EAAK,CAChC,KAAM,CAAAC,UAAU,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAACC,IAAI,CAAC,CAAC,CACxC;AACAZ,eAAe,CAAC,CAAEC,OAAO,CAAEQ,UAAW,CAAC,CAAC,CAC1C,CAAC,CAED,mBACEf,KAAA,CAACT,QAAQ,EAAA4B,QAAA,eAEPnB,KAAA,QAAKoB,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eAC/BrB,IAAA,UACEuB,IAAI,CAAC,MAAM,CACXD,SAAS,CAAC,cAAc,CACxBE,WAAW,CAAC,wBAAwB,CACpCL,KAAK,CAAEV,OAAU;AAAA,CACjBgB,QAAQ,CAAEV,kBAAqB;AAAA,CAChC,CAAC,cACFf,IAAA,WAAQsB,SAAS,CAAC,YAAY,CAAAD,QAAA,cAC5BrB,IAAA,CAACF,QAAQ,GAAE,CAAC,CACN,CAAC,EACN,CAAC,cAENE,IAAA,OAAI0B,EAAE,CAAC,kBAAkB,CAAAL,QAAA,CAAC,iBAAe,CAAI,CAAC,cAE9CrB,IAAA,YAAS0B,EAAE,CAAC,UAAU,CAACJ,SAAS,CAAC,gBAAgB,CAAAD,QAAA,cAC/CrB,IAAA,QAAKsB,SAAS,CAAC,KAAK,CAAAD,QAAA,CACjBhB,QAAQ,CAACsB,GAAG,CAACC,OAAO,eAAI5B,IAAA,CAACJ,WAAW,EAAkBgC,OAAO,CAAEA,OAAQ,EAA7BA,OAAO,CAACF,EAAuB,CAAC,CAAC,CACzE,CAAC,CACC,CAAC,EACF,CAAC,CAEf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}